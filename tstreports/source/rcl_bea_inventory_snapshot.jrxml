<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.0.0.final using JasperReports Library version 6.0.0  -->
<!-- 2021-10-13T12:12:08 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rcl_bea_inventory_snapshot" language="groovy" pageWidth="600" pageHeight="25000" columnWidth="600" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="3d16f8c6-a270-408c-9fcf-a97dad20e9ae">
	<property name="ireport.zoom" value="1.6500000000000057"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="170"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="824"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="WMS2016_PRD"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="JR_TEMPLATE_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["C:\\Users\\tim.grol\\Desktop\\ireport\\MyReports"]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select * from (
select sub.sku_id,nvl(sub.batch_id,'0') batch_id,to_char(sub.expiry_dstamp,'DD-MON-YYYY') expiry_date
,(decode (sub.lock_code
,'INB-DMGD','INDM'
,'INV-DMGD','DMGD'
,'QCHOLD','QUAL'
,'RMA','RET'
,'RMA-DMGD','RETDMGD'
,'NOTEN','LOST'
,'EXTRA','FOUND'
,'SCRAP','SCRAP'
,'SMPL','SAMPLE'
,'EXPD','EXPD'
,'LOROC','RESERVED')
) lock_code
,sub.cat_qty,sub.category from (
select (case when inv.sku_id like '%-%' then (select kit.kit_id sku_id
from dcsdba.kit_line kit
where kit.client_id='BEA'
and line_id=1
and kit.sku_id=inv.sku_id
and kit.kit_id not like'%-%') else inv.sku_id end) sku_id
,inv.batch_id,inv.expiry_dstamp
,(case when inv.condition_id is not null then condition_id
when inv.lock_status='Locked' and inv.lock_code is null then 'QC-HOLD'
else lock_code end) lock_code
,sum(inv.qty_on_hand) cat_qty,'InDock' category
from dcsdba.inventory inv
inner join dcsdba.location loc on inv.location_id=loc.location_id and inv.site_id=loc.site_id and loc.loc_type='Receive Dock'
where inv.client_id='BEA'
group by inv.sku_id,inv.batch_id,inv.expiry_dstamp,inv.condition_id,inv.lock_status,inv.lock_code
union all
select (case when inv.sku_id like '%-%' then (select kit.kit_id sku_id
from dcsdba.kit_line kit
where kit.client_id='BEA'
and line_id=1
and kit.sku_id=inv.sku_id
and kit.kit_id not like'%-%') else inv.sku_id end) sku_id
,inv.batch_id,inv.expiry_dstamp
,(case when inv.condition_id is not null then condition_id
when inv.lock_status='Locked' and inv.lock_code is null then 'QC-HOLD'
else lock_code end) lock_code
,sum(inv.qty_on_hand) cat_qty,'Total' category
from dcsdba.inventory inv
where inv.client_id='BEA'
group by inv.sku_id,inv.batch_id,inv.expiry_dstamp,inv.condition_id,inv.lock_status,inv.lock_code
union all
select (case when inv.sku_id like '%-%' then (select kit.kit_id sku_id
from dcsdba.kit_line kit
where kit.client_id='BEA'
and line_id=1
and kit.sku_id=inv.sku_id
and kit.kit_id not like'%-%') else inv.sku_id end) sku_id
,inv.batch_id,inv.expiry_dstamp
,(case when inv.condition_id is not null then condition_id
when inv.lock_status='Locked' and inv.lock_code is null then 'QC-HOLD'
else lock_code end) lock_code
,sum(inv.qty_on_hand) cat_qty,'RTL' category
from dcsdba.order_header odh
inner join dcsdba.order_container ocr on odh.order_id=ocr.order_id and odh.client_id=ocr.client_id
inner join dcsdba.inventory inv on ocr.client_id=inv.client_id and ocr.container_id=inv.container_id and ocr.pallet_id=inv.pallet_id and odh.from_site_id=inv.site_id
where odh.client_id='BEA'
and odh.status not in ('Shipped','Delivered','Cancelled')
and nvl(odh.user_def_chk_1,'N')='Y'
and exists (select 1 from dcsdba.inventory_transaction itr
    where itr.code='Order Status'
    and itr.client_id=odh.client_id
    and itr.reference_id=odh.order_id
    and itr.to_status='Ready to Load'
    and itr.uploaded_filename is not null
    and itr.uploaded_dstamp is not null
    )
group by inv.sku_id,inv.batch_id,inv.expiry_dstamp,inv.condition_id,inv.lock_status,inv.lock_code
) sub
order by 1,2
)
pivot
(
sum(nvl(cat_qty,0))
for category in ('InDock','Total','RTL')
)
order by 1,2]]>
	</queryString>
	<field name="SKU_ID" class="java.lang.String"/>
	<field name="BATCH_ID" class="java.lang.String"/>
	<field name="LOCK_CODE" class="java.lang.String"/>
	<field name="&apos;InDock&apos;" class="java.math.BigDecimal"/>
	<field name="&apos;Total&apos;" class="java.math.BigDecimal"/>
	<field name="&apos;RTL&apos;" class="java.math.BigDecimal"/>
	<field name="EXPIRY_DATE" class="java.lang.String"/>
	<columnHeader>
		<band height="10" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="0" y="0" width="50" height="10" uuid="b0895ba8-38df-4dc8-adb3-ef8858260501">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[SKU_ID]]></text>
			</staticText>
			<staticText>
				<reportElement x="180" y="0" width="60" height="10" uuid="0fd266cc-dc23-4fb5-942c-c5a2e945e960">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[LOCK_CODE]]></text>
			</staticText>
			<staticText>
				<reportElement x="240" y="0" width="50" height="10" uuid="a27e5624-d8dc-47ce-ab4c-867f8303c237">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
			<staticText>
				<reportElement x="290" y="0" width="50" height="10" uuid="e660e56a-58e3-4834-8f90-88c53e693d1f">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[INDOCK]]></text>
			</staticText>
			<staticText>
				<reportElement x="340" y="0" width="50" height="10" uuid="1933680e-f81a-4361-b313-fd514d3b8165">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[RTL]]></text>
			</staticText>
			<staticText>
				<reportElement x="100" y="0" width="80" height="10" uuid="62f1c701-8431-43af-ac52-fa7a56e9d3d9">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[EXPIRY_DATE]]></text>
			</staticText>
			<staticText>
				<reportElement x="50" y="0" width="50" height="10" uuid="76d841fd-42cd-4ab7-be58-bc674d8092a0">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[BATCH_ID]]></text>
			</staticText>
			<staticText>
				<reportElement x="390" y="0" width="50" height="10" uuid="3fc55085-b8bf-4ff0-bf06-3ab9f6ff014e">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.2" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[AVAILABLE]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band>
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
		<band height="10">
			<property name="local_mesure_unitheight" value="pixel"/>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="50" height="10" uuid="af622d12-2e72-4828-8c49-ea425bf86e73">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SKU_ID}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="180" y="0" width="60" height="10" uuid="7ba2f413-14b1-4e6a-b834-2032f2788979">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{LOCK_CODE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="240" y="0" width="50" height="10" uuid="94c8a0e9-a5cc-48ed-b96d-9675d263584e">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{'Total'}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="290" y="0" width="50" height="10" uuid="b7d2b0e6-02c7-4173-913f-91587d01ce4f">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{'InDock'}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="340" y="0" width="50" height="10" uuid="da88fe46-7296-4d03-81b6-97ec8ebbf435">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{'RTL'}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="100" y="0" width="80" height="10" uuid="e159a41a-46da-4bfc-99a2-23f1ecdb8e56">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{EXPIRY_DATE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="50" y="0" width="50" height="10" uuid="7771fb7f-a911-472a-bb86-60fc92d99107">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{BATCH_ID}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="390" y="0" width="50" height="10" uuid="de31590f-6568-4991-ad23-be6c6b85db4b">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[IF($F{'Total'}==null,0,$F{'Total'})-(IF($F{'InDock'}==null,0,$F{'InDock'})+IF($F{'RTL'}==null,0,$F{'RTL'}))]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
</jasperReport>
