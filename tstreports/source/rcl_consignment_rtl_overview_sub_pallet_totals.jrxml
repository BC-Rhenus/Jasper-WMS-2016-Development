<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.0.0.final using JasperReports Library version 6.0.0  -->
<!-- 2022-05-09T13:12:24 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rcl_consignment_rtl_overview_sub_pallet_totals" language="groovy" pageWidth="500" pageHeight="100" columnWidth="500" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true" uuid="3d16f8c6-a270-408c-9fcf-a97dad20e9ae">
	<property name="ireport.zoom" value="1.6500000000000057"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="170"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="824"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="WMS2016_ACC"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="JR_TEMPLATE_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["C:\\Users\\tim.grol\\Desktop\\ireport\\MyReports"]]></defaultValueExpression>
	</parameter>
	<parameter name="site_id" class="java.lang.String"/>
	<parameter name="consignment" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select 'A' sorting,consignment,client_id,pallet_id,sum(nr_cartons) nr_cartons,to_char(pallet_weight,'9990.00') pallet_weight from (
select odh.consignment,odh.client_id,ocr.pallet_id,ocr.pallet_weight,ceil(inv.qty_on_hand/nvl(sku.each_quantity,1)) nr_cartons
from dcsdba.order_container ocr
inner join dcsdba.order_header odh on ocr.order_id=odh.order_id and ocr.client_id=odh.client_id
inner join dcsdba.country ctr on odh.country=ctr.iso3_id
inner join dcsdba.inventory inv on ocr.pallet_id=inv.pallet_id and ocr.client_id=inv.client_id
inner join dcsdba.sku sku on inv.sku_id=sku.sku_id and inv.client_id=sku.client_id
where odh.from_site_id=$P{site_id}
and odh.consignment=$P{consignment}
) group by consignment,client_id,pallet_id,pallet_weight
union all
select 'B' sorting,'TOTAL' consignment,null client_id,to_char(count(pallet_id)) nr_pallets,sum(nr_cartons) nr_cartons,to_char(sum(pallet_weight),'9990.00') total_ship_weight from (
select consignment,client_id,pallet_id,sum(nr_cartons) nr_cartons,pallet_weight from (
select odh.consignment,odh.client_id,ocr.pallet_id,ocr.pallet_weight,ceil(inv.qty_on_hand/nvl(sku.each_quantity,1)) nr_cartons
from dcsdba.order_container ocr
inner join dcsdba.order_header odh on ocr.order_id=odh.order_id and ocr.client_id=odh.client_id
inner join dcsdba.country ctr on odh.country=ctr.iso3_id
inner join dcsdba.inventory inv on ocr.pallet_id=inv.pallet_id and ocr.client_id=inv.client_id
inner join dcsdba.sku sku on inv.sku_id=sku.sku_id and inv.client_id=sku.client_id
where odh.from_site_id=$P{site_id}
and odh.consignment=$P{consignment}
) group by consignment,client_id,pallet_id,pallet_weight
) group by consignment,client_id
order by 1,2,3,4]]>
	</queryString>
	<field name="CLIENT_ID" class="java.lang.String"/>
	<field name="PALLET_ID" class="java.lang.String"/>
	<field name="SORTING" class="java.lang.String"/>
	<field name="CONSIGNMENT" class="java.lang.String"/>
	<field name="NR_CARTONS" class="java.math.BigDecimal"/>
	<field name="PALLET_WEIGHT" class="java.lang.String"/>
	<columnHeader>
		<band height="14" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="0" y="0" width="200" height="13" uuid="b0895ba8-38df-4dc8-adb3-ef8858260501">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Consignment]]></text>
			</staticText>
			<staticText>
				<reportElement x="200" y="0" width="80" height="13" uuid="0fd266cc-dc23-4fb5-942c-c5a2e945e960">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Client]]></text>
			</staticText>
			<staticText>
				<reportElement x="280" y="0" width="80" height="13" uuid="a27e5624-d8dc-47ce-ab4c-867f8303c237">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Pallet]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="13" width="500" height="1" uuid="d1c65a14-dfae-4449-939b-e7af56b14ee0">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="360" y="0" width="60" height="13" uuid="ac8d33b3-61ad-4060-a2e3-d9dd10a9c23a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[#Cartons]]></text>
			</staticText>
			<staticText>
				<reportElement x="420" y="0" width="80" height="13" uuid="aec8a6dd-353c-49d2-94c7-8319c376ef22">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Weight]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band>
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
		<band height="13">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="200" height="13" isPrintWhenDetailOverflows="true" uuid="af622d12-2e72-4828-8c49-ea425bf86e73">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CONSIGNMENT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="200" y="0" width="80" height="13" isPrintWhenDetailOverflows="true" uuid="7ba2f413-14b1-4e6a-b834-2032f2788979">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CLIENT_ID}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="280" y="0" width="80" height="13" isPrintWhenDetailOverflows="true" uuid="94c8a0e9-a5cc-48ed-b96d-9675d263584e">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PALLET_ID}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="360" y="0" width="60" height="13" isPrintWhenDetailOverflows="true" uuid="97d551d0-f03c-430b-bb14-8233be3520f4">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NR_CARTONS}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="420" y="0" width="80" height="13" isPrintWhenDetailOverflows="true" uuid="7110c4e9-1da8-4662-893b-2ca9263ca567">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PALLET_WEIGHT}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
</jasperReport>
